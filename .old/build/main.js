/**
 * @license cs 0.4.3 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/require-cs for details
 */

define("cs/cs",["coffee-script"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=function(){throw new Error("Environment unsupported.")},s={};return typeof process!="undefined"&&process.versions&&!!process.versions.node?(t=require.nodeRequire("fs"),i=function(e,n){n(t.readFileSync(e,"utf8"))}):typeof window!="undefined"&&window.navigator&&window.document||typeof importScripts!="undefined"?(n=function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}if(!e)throw new Error("getXhr(): XMLHttpRequest not available");return e},i=function(e,t){var r=n();r.open("GET",e,!0),r.onreadystatechange=function(e){r.readyState===4&&t(r.responseText)},r.send(null)}):typeof Packages!="undefined"&&(i=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)}),{fetchText:i,get:function(){return e},write:function(e,t,n){if(s.hasOwnProperty(t)){var r=s[t];n.asModule(e+"!"+t,r)}},version:"0.4.3",load:function(t,n,r,o){var u=n.toUrl(/\.((lit)?coffee|coffee\.md)$/.test(t)?t:t+".coffee");i(u,function(i){var a=o.CoffeeScript||{};a.literate=/\.(litcoffee|coffee\.md)$/.test(u);try{i=e.compile(i,a)}catch(f){throw f.message="In "+u+", "+f.message,f}o.isBuild&&(s[t]=i),o.isBuild||(i+="\r\n//@ sourceURL="+u),r.fromText(t,i),n([t],function(e){r(e)})})}}}),define("cs",["cs/cs"],function(e){return e}),function(){function e(){this.impl=null,this.isPlaying=!1,this.samplerate=44100,this.channels=2,this.cellsize=128,this.streammsec=20,this.streamsize=0,this.generator=null}var t=null,n=function(){return"undefined"!=typeof window?window.webkitAudioContext||window.AudioContext:void 0}();t=n!==void 0?function(e){var t,r,i=new n;this.maxSamplerate=i.sampleRate,this.defaultSamplerate=i.sampleRate,this.env="webkit";var s=navigator.userAgent;s.match(/linux/i)?e.streammsec*=8:s.match(/win(dows)?\s*(nt 5\.1|xp)/i)&&(e.streammsec*=4),this.play=function(){var n,s,o,u=e.getAdjustSamples(i.sampleRate),f=e.streamsize;e.samplerate===i.sampleRate?n=function(t){var n=t.outputBuffer;e.process(),n.getChannelData(0).set(e.strmL),n.getChannelData(1).set(e.strmR)}:2*e.samplerate===i.sampleRate?n=function(t){var n,r,i=e.strmL,s=e.strmR,o=t.outputBuffer,u=o.getChannelData(0),a=o.getChannelData(1),f=o.length;for(e.process(),n=r=0;f>n;n+=2,++r)u[n]=u[n+1]=i[r],a[n]=a[n+1]=s[r]}:(s=f,o=e.samplerate/i.sampleRate,n=function(t){var n,r=e.strmL,i=e.strmR,u=t.outputBuffer,a=u.getChannelData(0),c=u.getChannelData(1),h=u.length;for(n=0;h>n;++n)s>=f&&(e.process(),s-=f),a[n]=r[0|s],c[n]=i[0|s],s+=o}),t=i.createBufferSource(),r=i.createJavaScriptNode(u,2,e.channels),r.onaudioprocess=n,t.noteOn(0),t.connect(r),r.connect(i.destination)},this.pause=function(){t.disconnect(),r.disconnect()}}:"function"==typeof Audio&&"function"==typeof (new Audio).mozSetup?function(e){var t=function(){var e="var t=0;onmessage=function(e){if(t)t=clearInterval(t),0;if(typeof e.data=='number'&&e.data>0)t=setInterval(function(){postMessage(0);},e.data);};",t=new Blob([e],{type:"text/javascript"}),n=window.URL.createObjectURL(t);return new Worker(n)}();this.maxSamplerate=48e3,this.defaultSamplerate=44100,this.env="moz",this.play=function(){var n=new Audio,r=new Float32Array(e.streamsize*e.channels),i=e.streammsec,s=0,o=1e3*(e.streamsize/e.samplerate),u=Date.now(),a=function(){if(!(s>Date.now()-u)){var t=e.strmL,i=e.strmR,a=r.length,f=t.length;for(e.process();f--;)r[--a]=i[f],r[--a]=t[f];n.mozWriteAudio(r),s+=o}};n.mozSetup(e.channels,e.samplerate),t.onmessage=a,t.postMessage(i)},this.pause=function(){t.postMessage(0)}}:function(){this.maxSamplerate=48e3,this.defaultSamplerate=8e3,this.env="nop",this.play=function(){},this.pause=function(){}};var r=[8e3,11025,12e3,16e3,22050,24e3,32e3,44100,48e3],i=[32,64,128,256];e.prototype.bind=function(e,t){if("function"==typeof e){var n=new e(this,t);"function"==typeof n.play&&"function"==typeof n.pause&&(this.impl=n,this.impl.defaultSamplerate&&(this.samplerate=this.impl.defaultSamplerate))}return this},e.prototype.setup=function(e){if("object"==typeof e)-1!==r.indexOf(e.samplerate)&&(this.samplerate=e.samplerate<=this.impl.maxSamplerate?e.samplerate:this.impl.maxSamplerate),-1!==i.indexOf(e.cellsize)&&(this.cellsize=e.cellsize);else if("string"==typeof e)switch(e){case"mobile":this.samplerate=22050,this.cellsize=128;break;case"high-res":this.cellsize=32;break;case"low-res":this.cellsize=256}return this},e.prototype.getAdjustSamples=function(e){var t,n;return e=e||this.samplerate,t=this.streammsec/1e3*e,n=Math.ceil(Math.log(t)*Math.LOG2E),n=8>n?8:n>14?14:n,1<<n},e.prototype.play=function(e){return this.isPlaying||"object"!=typeof e?this:(this.isPlaying=!0,this.generator=e,this.streamsize=this.getAdjustSamples(),this.strmL=new Float32Array(this.streamsize),this.strmR=new Float32Array(this.streamsize),this.cellL=new Float32Array(this.cellsize),this.cellR=new Float32Array(this.cellsize),this.impl.play(),this)},e.prototype.pause=function(){return this.isPlaying&&(this.isPlaying=!1,this.impl.pause()),this},e.prototype.process=function(){for(var e,t,n=this.cellL,r=this.cellR,i=this.strmL,s=this.strmR,o=this.generator,u=n.length,a=0,f=this.streamsize/this.cellsize;f--;)for(o.process(n,r),e=0;u>e;++e,++a)t=n[e],i[a]=-1>t?-1:t>1?1:t,t=r[e],s[a]=-1>t?-1:t>1?1:t};var s=(new e).bind(t),o={setup:function(e){return s.setup(e),this},bind:function(e,t){return s.bind(e,t),this},play:function(e){return s.play(e),this},pause:function(){return s.pause(),this}};Object.defineProperties(o,{env:{get:function(){return s.impl.env}},samplerate:{get:function(){return s.samplerate}},channels:{get:function(){return s.channels}},cellsize:{get:function(){return s.cellsize}},isPlaying:{get:function(){return s.isPlaying}}}),"undefined"!=typeof module&&module.exports?module.exports=global.pico=o:"undefined"!=typeof window&&(window.Float32Array===void 0&&(window.Float32Array=function(e){var t;if(Array.isArray(e))t=e.slice();else if("number"==typeof e){t=Array(e);for(var n=0;e>n;++n)t[n]=0}else t=[];return t.set=function(e,t){t===void 0&&(t=0);var n,r=Math.min(this.length-t,e.length);for(n=0;r>n;++n)this[t+n]=e[n]},t.subarray=function(e,t){return t===void 0&&(t=this.length),this.slice(e,t)},t}),o.noConflict=function(){var e=window.pico;return function(){return window.pico===o&&(window.pico=e),o}}(),window.pico=o),function(){function e(e){try{return t.plugins&&t.mimeTypes&&t.mimeTypes.length?t.plugins["Shockwave Flash"].description.match(/([0-9]+)/)[e]:(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").match(/([0-9]+)/)[e]}catch(n){return-1}}if("undefined"!=typeof window&&"nop"===window.pico.env){var t=navigator;if(!(10>e(0))){var n,r="PicoFlashPlayerDiv",i=function(){var e=document.getElementsByTagName("script");if(e&&e.length)for(var t,n=0,r=e.length;r>n;++n)if(t=/^(.*\/)pico(?:\.dev)?\.js$/i.exec(e[n].src))return t[1]+"pico.swf"}();window.picojs_flashfallback_init=function(){function e(e){var t=0;this.maxSamplerate=44100,this.defaultSamplerate=44100,this.env="flash",this.play=function(){var r,s=Array(e.streamsize*e.channels),o=e.streammsec,u=0,a=1e3*(e.streamsize/e.samplerate),f=Date.now();r=function(){if(!(u>Date.now()-f)){var t=e.strmL,r=e.strmR,i=s.length,o=t.length;for(e.process();o--;)s[--i]=0|32768*r[o],s[--i]=0|32768*t[o];n.writeAudio(s.join(" ")),u+=a}},n.setup?(n.setup(e.channels,e.samplerate),t=setInterval(r,o)):console.warn("Cannot find "+i)},this.pause=function(){0!==t&&(n.cancel(),clearInterval(t),t=0)}}s.bind(e),delete window.picojs_flashfallback_init};var o,u,a=i,f=a+"?"+ +(new Date),l="PicoFlashPlayer",c=document.createElement("div");c.id=r,c.style.display="inline",c.width=c.height=1,t.plugins&&t.mimeTypes&&t.mimeTypes.length?(o=document.createElement("object"),o.id=l,o.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",o.width=o.height=1,o.setAttribute("data",f),o.setAttribute("type","application/x-shockwave-flash"),u=document.createElement("param"),u.setAttribute("name","allowScriptAccess"),u.setAttribute("value","always"),o.appendChild(u),c.appendChild(o)):c.innerHTML='<object id="'+l+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+f+'" /><param name="bgcolor" value="#FFFFFF" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" /></object>',window.addEventListener("load",function(){document.body.appendChild(c),n=document[l]})}}}()}(),define("pico",function(){}),function(){define("cs/cs!app",["require","pico"],function(e){var t,n,r;return window.c=console,window.c.l=c.log,t={},e("pico"),window.app=t,r=new Worker("worker.js"),n={buff:new Float32Array(44100),buffLen:44100,t:0,process:function(e,t){var n,r;n=0,r=[];while(n<e.length)e[n]=this.buff[this.t],t[n]=this.buff[this.t+1],this.t>this.buffLen&&(this.t=0),this.t+=2,r.push(n++);return r}},t.playBuffer=n,r.postMessage("hulu"),r.onmessage=function(e){return n.buff=e.data,n.buffLen=e.data.length}})}.call(this),define("main",["cs!app"],function(){c.l("main")});
a=0;



